<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VEX Engine: Core/bin/Debug/_deps/zstd-src/programs Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="RenderedLogoLowRes.png"/></td>
  <td id="projectalign">
   <div id="projectname">VEX Engine
   </div>
   <div id="projectbrief">Retro looking game engine made in vulkan mostly because i wanted to understand it better.</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('dir_98fce4c481355d4b34d9ef18e195bd5e.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">programs Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-subdirs" class="groupheader"><a id="subdirs" name="subdirs"></a>
Directories</h2></td></tr>
<tr class="memitem:windres" id="r_windres"><td class="memItemLeft" align="right" valign="top"><span class="iconfolder"><div class="folder-icon"></div></span>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_32a45e9f8005620e12777db2ce1d2dfb.html">windres</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-files" class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:benchfn_2Ec" id="r_benchfn_2Ec"><td class="memItemLeft" align="right" valign="top"><a href="benchfn_8c_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>benchfn.c</b></td></tr>
<tr class="memitem:benchfn_2Eh" id="r_benchfn_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="benchfn_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>benchfn.h</b></td></tr>
<tr class="memitem:benchzstd_2Ec" id="r_benchzstd_2Ec"><td class="memItemLeft" align="right" valign="top"><a href="benchzstd_8c_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>benchzstd.c</b></td></tr>
<tr class="memitem:benchzstd_2Eh" id="r_benchzstd_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="benchzstd_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>benchzstd.h</b></td></tr>
<tr class="memitem:datagen_2Ec" id="r_datagen_2Ec"><td class="memItemLeft" align="right" valign="top"><a href="datagen_8c_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>datagen.c</b></td></tr>
<tr class="memitem:datagen_2Eh" id="r_datagen_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="datagen_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>datagen.h</b></td></tr>
<tr class="memitem:dibio_2Ec" id="r_dibio_2Ec"><td class="memItemLeft" align="right" valign="top"><a href="dibio_8c_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>dibio.c</b></td></tr>
<tr class="memitem:dibio_2Eh" id="r_dibio_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="dibio_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>dibio.h</b></td></tr>
<tr class="memitem:fileio_2Ec" id="r_fileio_2Ec"><td class="memItemLeft" align="right" valign="top"><a href="fileio_8c_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>fileio.c</b></td></tr>
<tr class="memitem:fileio_2Eh" id="r_fileio_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="fileio_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>fileio.h</b></td></tr>
<tr class="memitem:fileio_5Fasyncio_2Ec" id="r_fileio_5Fasyncio_2Ec"><td class="memItemLeft" align="right" valign="top"><a href="fileio__asyncio_8c_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>fileio_asyncio.c</b></td></tr>
<tr class="memitem:fileio_5Fasyncio_2Eh" id="r_fileio_5Fasyncio_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="fileio__asyncio_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>fileio_asyncio.h</b></td></tr>
<tr class="memitem:fileio_5Fcommon_2Eh" id="r_fileio_5Fcommon_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="fileio__common_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>fileio_common.h</b></td></tr>
<tr class="memitem:fileio_5Ftypes_2Eh" id="r_fileio_5Ftypes_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="fileio__types_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>fileio_types.h</b></td></tr>
<tr class="memitem:lorem_2Ec" id="r_lorem_2Ec"><td class="memItemLeft" align="right" valign="top"><a href="lorem_8c_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>lorem.c</b></td></tr>
<tr class="memitem:lorem_2Eh" id="r_lorem_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="lorem_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>lorem.h</b></td></tr>
<tr class="memitem:platform_2Eh" id="r_platform_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="platform_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>platform.h</b></td></tr>
<tr class="memitem:timefn_2Ec" id="r_timefn_2Ec"><td class="memItemLeft" align="right" valign="top"><a href="timefn_8c_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>timefn.c</b></td></tr>
<tr class="memitem:timefn_2Eh" id="r_timefn_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="timefn_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>timefn.h</b></td></tr>
<tr class="memitem:util_2Ec" id="r_util_2Ec"><td class="memItemLeft" align="right" valign="top"><a href="util_8c_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>util.c</b></td></tr>
<tr class="memitem:util_2Eh" id="r_util_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="util_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>util.h</b></td></tr>
<tr class="memitem:zstdcli_2Ec" id="r_zstdcli_2Ec"><td class="memItemLeft" align="right" valign="top"><a href="zstdcli_8c_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>zstdcli.c</b></td></tr>
<tr class="memitem:zstdcli_5Ftrace_2Ec" id="r_zstdcli_5Ftrace_2Ec"><td class="memItemLeft" align="right" valign="top"><a href="zstdcli__trace_8c_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>zstdcli_trace.c</b></td></tr>
<tr class="memitem:zstdcli_5Ftrace_2Eh" id="r_zstdcli_5Ftrace_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="zstdcli__trace_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>zstdcli_trace.h</b></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<p>Command Line Interface (CLI) can be created using the <span class="tt">make</span> command without any additional parameters. There are however other Makefile targets that create different variations of CLI:</p><ul>
<li><span class="tt">zstd</span> : default CLI supporting gzip-like arguments; includes dictionary builder, benchmark, and supports decompression of legacy zstd formats</li>
<li><span class="tt">zstd_nolegacy</span> : Same as <span class="tt">zstd</span> but without support for legacy zstd formats</li>
<li><span class="tt">zstd-small</span> : CLI optimized for minimal size; no dictionary builder, no benchmark, and no support for legacy zstd formats</li>
<li><span class="tt">zstd-compress</span> : version of CLI which can only compress into zstd format</li>
<li><span class="tt">zstd-decompress</span> : version of CLI which can only decompress zstd format</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md169"></a>
Compilation variables</h2>
<p><span class="tt">zstd</span> scope can be altered by modifying the following <span class="tt">make</span> variables :</p>
<ul>
<li><b>HAVE_THREAD</b> : multithreading is automatically enabled when <span class="tt">pthread</span> is detected. It's possible to disable multithread support, by setting <span class="tt">HAVE_THREAD=0</span>. Example : <span class="tt">make zstd HAVE_THREAD=0</span> It's also possible to force multithread support, using <span class="tt">HAVE_THREAD=1</span>. In which case, linking stage will fail if neither <span class="tt">pthread</span> nor <span class="tt">windows.h</span> library can be found. This is useful to ensure this feature is not silently disabled.</li>
<li><b>ZSTD_LEGACY_SUPPORT</b> : <span class="tt">zstd</span> can decompress files compressed by older versions of <span class="tt">zstd</span>. Starting v0.8.0, all versions of <span class="tt">zstd</span> produce frames compliant with the <a class="el" href="md_Core_2bin_2Debug_2__deps_2zstd-src_2doc_2zstd__compression__format.html">specification</a>, and are therefore compatible. But older versions (&lt; v0.8.0) produced different, incompatible, frames. By default, <span class="tt">zstd</span> supports decoding legacy formats &gt;= v0.4.0 (<span class="tt">ZSTD_LEGACY_SUPPORT=4</span>). This can be altered by modifying this compilation variable. <span class="tt">ZSTD_LEGACY_SUPPORT=1</span> means "support all formats &gt;= v0.1.0". <span class="tt">ZSTD_LEGACY_SUPPORT=2</span> means "support all formats &gt;= v0.2.0", and so on. <span class="tt">ZSTD_LEGACY_SUPPORT=0</span> means <em>DO NOT</em> support any legacy format. if <span class="tt">ZSTD_LEGACY_SUPPORT &gt;= 8</span>, it's the same as <span class="tt">0</span>, since there is no legacy format after <span class="tt">7</span>. Note : <span class="tt">zstd</span> only supports decoding older formats, and cannot generate any legacy format.</li>
<li><b>HAVE_ZLIB</b> : <span class="tt">zstd</span> can compress and decompress files in <span class="tt">.gz</span> format. This is ordered through command <span class="tt">--format=gzip</span>. Alternatively, symlinks named <span class="tt">gzip</span> or <span class="tt">gunzip</span> will mimic intended behavior. <span class="tt">.gz</span> support is automatically enabled when <span class="tt">zlib</span> library is detected at build time. It's possible to disable <span class="tt">.gz</span> support, by setting <span class="tt">HAVE_ZLIB=0</span>. Example : <span class="tt">make zstd HAVE_ZLIB=0</span> It's also possible to force compilation with zlib support, using <span class="tt">HAVE_ZLIB=1</span>. In which case, linking stage will fail if <span class="tt">zlib</span> library cannot be found. This is useful to prevent silent feature disabling.</li>
<li><b>HAVE_LZMA</b> : <span class="tt">zstd</span> can compress and decompress files in <span class="tt">.xz</span> and <span class="tt">.lzma</span> formats. This is ordered through commands <span class="tt">--format=xz</span> and <span class="tt">--format=lzma</span> respectively. Alternatively, symlinks named <span class="tt">xz</span>, <span class="tt">unxz</span>, <span class="tt">lzma</span>, or <span class="tt">unlzma</span> will mimic intended behavior. <span class="tt">.xz</span> and <span class="tt">.lzma</span> support is automatically enabled when <span class="tt">lzma</span> library is detected at build time. It's possible to disable <span class="tt">.xz</span> and <span class="tt">.lzma</span> support, by setting <span class="tt">HAVE_LZMA=0</span>. Example : <span class="tt">make zstd HAVE_LZMA=0</span> It's also possible to force compilation with lzma support, using <span class="tt">HAVE_LZMA=1</span>. In which case, linking stage will fail if <span class="tt">lzma</span> library cannot be found. This is useful to prevent silent feature disabling.</li>
<li><b>HAVE_LZ4</b> : <span class="tt">zstd</span> can compress and decompress files in <span class="tt">.lz4</span> formats. This is ordered through commands <span class="tt">--format=lz4</span>. Alternatively, symlinks named <span class="tt">lz4</span>, or <span class="tt">unlz4</span> will mimic intended behavior. <span class="tt">.lz4</span> support is automatically enabled when <span class="tt">lz4</span> library is detected at build time. It's possible to disable <span class="tt">.lz4</span> support, by setting <span class="tt">HAVE_LZ4=0</span> . Example : <span class="tt">make zstd HAVE_LZ4=0</span> It's also possible to force compilation with lz4 support, using <span class="tt">HAVE_LZ4=1</span>. In which case, linking stage will fail if <span class="tt">lz4</span> library cannot be found. This is useful to prevent silent feature disabling.</li>
<li><b>ZSTD_NOBENCH</b> : <span class="tt">zstd</span> cli will be compiled without its integrated benchmark module. This can be useful to produce smaller binaries. In this case, the corresponding unit can also be excluded from compilation target.</li>
<li><b>ZSTD_NODICT</b> : <span class="tt">zstd</span> cli will be compiled without support for the integrated dictionary builder. This can be useful to produce smaller binaries. In this case, the corresponding unit can also be excluded from compilation target.</li>
<li><b>ZSTD_NOCOMPRESS</b> : <span class="tt">zstd</span> cli will be compiled without support for compression. The resulting binary will only be able to decompress files. This can be useful to produce smaller binaries. A corresponding <span class="tt">Makefile</span> target using this ability is <span class="tt">zstd-decompress</span>.</li>
<li><b>ZSTD_NODECOMPRESS</b> : <span class="tt">zstd</span> cli will be compiled without support for decompression. The resulting binary will only be able to compress files. This can be useful to produce smaller binaries. A corresponding <span class="tt">Makefile</span> target using this ability is <span class="tt">zstd-compress</span>.</li>
<li><b>BACKTRACE</b> : <span class="tt">zstd</span> can display a stack backtrace when execution generates a runtime exception. By default, this feature may be degraded/disabled on some platforms unless additional compiler directives are applied. When triaging a runtime issue, enabling this feature can provide more context to determine the location of the fault. Example : <span class="tt">make zstd BACKTRACE=1</span></li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md170"></a>
Aggregation of parameters</h2>
<p>CLI supports aggregation of parameters i.e. <span class="tt">-b1</span>, <span class="tt">-e18</span>, and <span class="tt">-i1</span> can be joined into <span class="tt">-b1e18i1</span>.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md171"></a>
Symlink shortcuts</h2>
<p>It's possible to invoke <span class="tt">zstd</span> through a symlink. When the name of the symlink has a specific value, it triggers an associated behavior.</p><ul>
<li><span class="tt">zstdmt</span> : compress using all cores available on local system.</li>
<li><span class="tt">zcat</span> : will decompress and output target file using any of the supported formats. <span class="tt">gzcat</span> and <span class="tt">zstdcat</span> are also equivalent.</li>
<li><span class="tt">gzip</span> : if zlib support is enabled, will mimic <span class="tt">gzip</span> by compressing file using <span class="tt">.gz</span> format, removing source file by default (use <span class="tt">--keep</span> to preserve). If zlib is not supported, triggers an error.</li>
<li><span class="tt">xz</span> : if lzma support is enabled, will mimic <span class="tt">xz</span> by compressing file using <span class="tt">.xz</span> format, removing source file by default (use <span class="tt">--keep</span> to preserve). If xz is not supported, triggers an error.</li>
<li><span class="tt">lzma</span> : if lzma support is enabled, will mimic <span class="tt">lzma</span> by compressing file using <span class="tt">.lzma</span> format, removing source file by default (use <span class="tt">--keep</span> to preserve). If lzma is not supported, triggers an error.</li>
<li><span class="tt">lz4</span> : if lz4 support is enabled, will mimic <span class="tt">lz4</span> by compressing file using <span class="tt">.lz4</span> format. If lz4 is not supported, triggers an error.</li>
<li><span class="tt">unzstd</span> and <span class="tt">unlz4</span> will decompress any of the supported format.</li>
<li><span class="tt">ungz</span>, <span class="tt">unxz</span> and <span class="tt">unlzma</span> will do the same, and will also remove source file by default (use <span class="tt">--keep</span> to preserve).</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md172"></a>
Dictionary builder in Command Line Interface</h2>
<p>Zstd offers a training mode, which can be used to tune the algorithm for a selected type of data, by providing it with a few samples. The result of the training is stored in a file selected with the <span class="tt">-o</span> option (default name is <span class="tt">dictionary</span>), which can be loaded before compression and decompression.</p>
<p>Using a dictionary, the compression ratio achievable on small data improves dramatically. These compression gains are achieved while simultaneously providing faster compression and decompression speeds. Dictionary work if there is some correlation in a family of small data (there is no universal dictionary). Hence, deploying one dictionary per type of data will provide the greater benefits. Dictionary gains are mostly effective in the first few KB. Then, the compression algorithm will rely more and more on previously decoded content to compress the rest of the file.</p>
<p>Usage of the dictionary builder and created dictionaries with CLI:</p>
<ol type="1">
<li>Create the dictionary : <span class="tt">zstd --train PathToTrainingSet/* -o dictionaryName</span></li>
<li>Compress with the dictionary: <span class="tt">zstd FILE -D dictionaryName</span></li>
<li>Decompress with the dictionary: <span class="tt">zstd --decompress FILE.zst -D dictionaryName</span></li>
</ol>
<h2 class="doxsection"><a class="anchor" id="autotoc_md173"></a>
Benchmark in Command Line Interface</h2>
<p>CLI includes in-memory compression benchmark module for zstd. The benchmark is conducted using given filenames. The files are read into memory and joined together. It makes benchmark more precise as it eliminates I/O overhead. Multiple filenames can be supplied, as multiple parameters, with wildcards, or directory names can be used with <span class="tt">-r</span> option. If no file is provided, the benchmark will use a procedurally generated "lorem ipsum" content.</p>
<p>The benchmark measures ratio, compressed size, compression and decompression speed. One can select compression levels starting from <span class="tt">-b</span> and ending with <span class="tt">-e</span>. The <span class="tt">-i</span> parameter selects minimal time used for each of tested levels.</p>
<p>The benchmark can also be used to test specific parameters, such as number of threads (<span class="tt">-T#</span>), or advanced parameters (<span class="tt">--zstd=#</span>), or dictionary compression (<span class="tt">-D DICTIONARY</span>), and many others available on command for regular compression and decompression.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md174"></a>
Usage of Command Line Interface</h2>
<p>The full list of options can be obtained with <span class="tt">-h</span> or <span class="tt">-H</span> parameter: </p><div class="fragment"><div class="line">*** Zstandard CLI (64-bit) v1.5.6, by Yann Collet ***</div>
<div class="line"> </div>
<div class="line">Compress or decompress the INPUT file(s); reads from STDIN if INPUT is `-` or not provided.</div>
<div class="line"> </div>
<div class="line">Usage: zstd [OPTIONS...] [INPUT... | -] [-o OUTPUT]</div>
<div class="line"> </div>
<div class="line">Options:</div>
<div class="line">  -o OUTPUT                     Write output to a single file, OUTPUT.</div>
<div class="line">  -k, --keep                    Preserve INPUT file(s). [Default]</div>
<div class="line">  --rm                          Remove INPUT file(s) after successful (de)compression.</div>
<div class="line"> </div>
<div class="line">  -#                            Desired compression level, where `#` is a number between 1 and 19;</div>
<div class="line">                                lower numbers provide faster compression, higher numbers yield</div>
<div class="line">                                better compression ratios. [Default: 3]</div>
<div class="line"> </div>
<div class="line">  -d, --decompress              Perform decompression.</div>
<div class="line">  -D DICT                       Use DICT as the dictionary for compression or decompression.</div>
<div class="line"> </div>
<div class="line">  -f, --force                   Disable input and output checks. Allows overwriting existing files,</div>
<div class="line">                                receiving input from the console, printing output to STDOUT, and</div>
<div class="line">                                operating on links, block devices, etc. Unrecognized formats will be</div>
<div class="line">                                passed-through through as-is.</div>
<div class="line"> </div>
<div class="line">  -h                            Display short usage and exit.</div>
<div class="line">  -H, --help                    Display full help and exit.</div>
<div class="line">  -V, --version                 Display the program version and exit.</div>
<div class="line"> </div>
<div class="line">Advanced options:</div>
<div class="line">  -c, --stdout                  Write to STDOUT (even if it is a console) and keep the INPUT file(s).</div>
<div class="line"> </div>
<div class="line">  -v, --verbose                 Enable verbose output; pass multiple times to increase verbosity.</div>
<div class="line">  -q, --quiet                   Suppress warnings; pass twice to suppress errors.</div>
<div class="line">  --trace LOG                   Log tracing information to LOG.</div>
<div class="line"> </div>
<div class="line">  --[no-]progress               Forcibly show/hide the progress counter. NOTE: Any (de)compressed</div>
<div class="line">                                output to terminal will mix with progress counter text.</div>
<div class="line"> </div>
<div class="line">  -r                            Operate recursively on directories.</div>
<div class="line">  --filelist LIST               Read a list of files to operate on from LIST.</div>
<div class="line">  --output-dir-flat DIR         Store processed files in DIR.</div>
<div class="line">  --output-dir-mirror DIR       Store processed files in DIR, respecting original directory structure.</div>
<div class="line">  --[no-]asyncio                Use asynchronous IO. [Default: Enabled]</div>
<div class="line"> </div>
<div class="line">  --[no-]check                  Add XXH64 integrity checksums during compression. [Default: Add, Validate]</div>
<div class="line">                                If `-d` is present, ignore/validate checksums during decompression.</div>
<div class="line"> </div>
<div class="line">  --                            Treat remaining arguments after `--` as files.</div>
<div class="line"> </div>
<div class="line">Advanced compression options:</div>
<div class="line">  --ultra                       Enable levels beyond 19, up to 22; requires more memory.</div>
<div class="line">  --fast[=#]                    Use to very fast compression levels. [Default: 1]</div>
<div class="line">  --adapt                       Dynamically adapt compression level to I/O conditions.</div>
<div class="line">  --long[=#]                    Enable long distance matching with window log #. [Default: 27]</div>
<div class="line">  --patch-from=REF              Use REF as the reference point for Zstandard&#39;s diff engine.</div>
<div class="line"> </div>
<div class="line">  -T#                           Spawn # compression threads. [Default: 1; pass 0 for core count.]</div>
<div class="line">  --single-thread               Share a single thread for I/O and compression (slightly different than `-T1`).</div>
<div class="line">  --auto-threads={physical|logical}</div>
<div class="line">                                Use physical/logical cores when using `-T0`. [Default: Physical]</div>
<div class="line"> </div>
<div class="line">  -B#                           Set job size to #. [Default: 0 (automatic)]</div>
<div class="line">  --rsyncable                   Compress using a rsync-friendly method (`-B` sets block size).</div>
<div class="line"> </div>
<div class="line">  --exclude-compressed          Only compress files that are not already compressed.</div>
<div class="line"> </div>
<div class="line">  --stream-size=#               Specify size of streaming input from STDIN.</div>
<div class="line">  --size-hint=#                 Optimize compression parameters for streaming input of approximately size #.</div>
<div class="line">  --target-compressed-block-size=#</div>
<div class="line">                                Generate compressed blocks of approximately # size.</div>
<div class="line"> </div>
<div class="line">  --no-dictID                   Don&#39;t write `dictID` into the header (dictionary compression only).</div>
<div class="line">  --[no-]compress-literals      Force (un)compressed literals.</div>
<div class="line">  --[no-]row-match-finder       Explicitly enable/disable the fast, row-based matchfinder for</div>
<div class="line">                                the &#39;greedy&#39;, &#39;lazy&#39;, and &#39;lazy2&#39; strategies.</div>
<div class="line"> </div>
<div class="line">  --format=zstd                 Compress files to the `.zst` format. [Default]</div>
<div class="line">  --[no-]mmap-dict              Memory-map dictionary file rather than mallocing and loading all at once</div>
<div class="line">  --format=gzip                 Compress files to the `.gz` format.</div>
<div class="line">  --format=xz                   Compress files to the `.xz` format.</div>
<div class="line">  --format=lzma                 Compress files to the `.lzma` format.</div>
<div class="line">  --format=lz4                 Compress files to the `.lz4` format.</div>
<div class="line"> </div>
<div class="line">Advanced decompression options:</div>
<div class="line">  -l                            Print information about Zstandard-compressed files.</div>
<div class="line">  --test                        Test compressed file integrity.</div>
<div class="line">  -M#                           Set the memory usage limit to # megabytes.</div>
<div class="line">  --[no-]sparse                 Enable sparse mode. [Default: Enabled for files, disabled for STDOUT.]</div>
<div class="line">  --[no-]pass-through           Pass through uncompressed files as-is. [Default: Disabled]</div>
<div class="line"> </div>
<div class="line">Dictionary builder:</div>
<div class="line">  --train                       Create a dictionary from a training set of files.</div>
<div class="line"> </div>
<div class="line">  --train-cover[=k=#,d=#,steps=#,split=#,shrink[=#]]</div>
<div class="line">                                Use the cover algorithm (with optional arguments).</div>
<div class="line">  --train-fastcover[=k=#,d=#,f=#,steps=#,split=#,accel=#,shrink[=#]]</div>
<div class="line">                                Use the fast cover algorithm (with optional arguments).</div>
<div class="line"> </div>
<div class="line">  --train-legacy[=s=#]          Use the legacy algorithm with selectivity #. [Default: 9]</div>
<div class="line">  -o NAME                       Use NAME as dictionary name. [Default: dictionary]</div>
<div class="line">  --maxdict=#                   Limit dictionary to specified size #. [Default: 112640]</div>
<div class="line">  --dictID=#                    Force dictionary ID to #. [Default: Random]</div>
<div class="line"> </div>
<div class="line">Benchmark options:</div>
<div class="line">  -b#                           Perform benchmarking with compression level #. [Default: 3]</div>
<div class="line">  -e#                           Test all compression levels up to #; starting level is `-b#`. [Default: 1]</div>
<div class="line">  -i#                           Set the minimum evaluation to time # seconds. [Default: 3]</div>
<div class="line">  -B#                           Cut file into independent chunks of size #. [Default: No chunking]</div>
<div class="line">  -S                            Output one benchmark result per input file. [Default: Consolidated result]</div>
<div class="line">  -D dictionary                 Benchmark using dictionary</div>
<div class="line">  --priority=rt                 Set process priority to real-time.</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md175"></a>
Passing parameters through Environment Variables</h2>
<p>There is no "generic" way to pass "any kind of parameter" to <span class="tt">zstd</span> in a pass-through manner. Using environment variables for this purpose has security implications. Therefore, this avenue is intentionally restricted and only supports <span class="tt">ZSTD_CLEVEL</span> and <span class="tt">ZSTD_NBTHREADS</span>.</p>
<p><span class="tt">ZSTD_CLEVEL</span> can be used to modify the default compression level of <span class="tt">zstd</span> (usually set to <span class="tt">3</span>) to another value between 1 and 19 (the "normal" range).</p>
<p><span class="tt">ZSTD_NBTHREADS</span> can be used to specify a number of threads that <span class="tt">zstd</span> will use for compression, which by default is <span class="tt">1</span>. This functionality only exists when <span class="tt">zstd</span> is compiled with multithread support. <span class="tt">0</span> means "use as many threads as detected cpu cores on local system". The max # of threads is capped at <span class="tt">ZSTDMT_NBWORKERS_MAX</span>, which is either 64 in 32-bit mode, or 256 for 64-bit environments.</p>
<p>This functionality can be useful when <span class="tt">zstd</span> CLI is invoked in a way that doesn't allow passing arguments. One such scenario is <span class="tt">tar --zstd</span>. As <span class="tt">ZSTD_CLEVEL</span> and <span class="tt">ZSTD_NBTHREADS</span> only replace the default compression level and number of threads respectively, they can both be overridden by corresponding command line arguments: <span class="tt">-#</span> for compression level and <span class="tt">-T#</span> for number of threads.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md176"></a>
Long distance matching mode</h2>
<p>The long distance matching mode, enabled with <span class="tt">--long</span>, is designed to improve the compression ratio for files with long matches at a large distance (up to the maximum window size, <span class="tt">128 MiB</span>) while still maintaining compression speed.</p>
<p>Enabling this mode sets the window size to <span class="tt">128 MiB</span> and thus increases the memory usage for both the compressor and decompressor. Performance in terms of speed is dependent on long matches being found. Compression speed may degrade if few long matches are found. Decompression speed usually improves when there are many long distance matches.</p>
<p>Below are graphs comparing the compression speed, compression ratio, and decompression speed with and without long distance matching on an ideal use case: a tar of four versions of clang (versions <span class="tt">3.4.1</span>, <span class="tt">3.4.2</span>, <span class="tt">3.5.0</span>, <span class="tt">3.5.1</span>) with a total size of <span class="tt">244889600 B</span>. This is an ideal use case as there are many long distance matches within the maximum window size of <span class="tt">128 MiB</span> (each version is less than <span class="tt">128 MiB</span>).</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Compression Speed vs Ratio  </th><th class="markdownTableHeadNone">Decompression Speed  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><img src="https://raw.githubusercontent.com/facebook/zstd/v1.3.3/doc/images/ldmCspeed.png" alt="Compression Speed vs Ratio" title="Compression Speed vs Ratio" class="inline"/>  </td><td class="markdownTableBodyNone"><img src="https://raw.githubusercontent.com/facebook/zstd/v1.3.3/doc/images/ldmDspeed.png" alt="Decompression Speed" title="Decompression Speed" class="inline"/>  </td></tr>
</table>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Method  </th><th class="markdownTableHeadRight">Compression ratio  </th><th class="markdownTableHeadRight">Compression speed  </th><th class="markdownTableHeadRight">Decompression speed  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><span class="tt">zstd -1</span>  </td><td class="markdownTableBodyRight"><span class="tt">5.065</span>  </td><td class="markdownTableBodyRight"><span class="tt">284.8 MB/s</span>  </td><td class="markdownTableBodyRight"><span class="tt">759.3 MB/s</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><span class="tt">zstd -5</span>  </td><td class="markdownTableBodyRight"><span class="tt">5.826</span>  </td><td class="markdownTableBodyRight"><span class="tt">124.9 MB/s</span>  </td><td class="markdownTableBodyRight"><span class="tt">674.0 MB/s</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><span class="tt">zstd -10</span>  </td><td class="markdownTableBodyRight"><span class="tt">6.504</span>  </td><td class="markdownTableBodyRight"><span class="tt">29.5 MB/s</span>  </td><td class="markdownTableBodyRight"><span class="tt">771.3 MB/s</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><span class="tt">zstd -1 --long</span>  </td><td class="markdownTableBodyRight"><span class="tt">17.426</span>  </td><td class="markdownTableBodyRight"><span class="tt">220.6 MB/s</span>  </td><td class="markdownTableBodyRight"><span class="tt">1638.4 MB/s</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><span class="tt">zstd -5 --long</span>  </td><td class="markdownTableBodyRight"><span class="tt">19.661</span>  </td><td class="markdownTableBodyRight"><span class="tt">165.5 MB/s</span>  </td><td class="markdownTableBodyRight"><span class="tt">1530.6 MB/s</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><span class="tt">zstd -10 --long</span>  </td><td class="markdownTableBodyRight"><span class="tt">21.949</span>  </td><td class="markdownTableBodyRight"><span class="tt">75.6 MB/s</span>  </td><td class="markdownTableBodyRight"><span class="tt">1632.6 MB/s</span>  </td></tr>
</table>
<p>On this file, the compression ratio improves significantly with minimal impact on compression speed, and the decompression speed doubles.</p>
<p>On the other extreme, compressing a file with few long distance matches (such as the <a href="https://sun.aei.polsl.pl//~sdeor/index.php?page=silesia">Silesia compression corpus</a>) will likely lead to a deterioration in compression speed (for lower levels) with minimal change in compression ratio.</p>
<p>The below table illustrates this on the <a href="https://sun.aei.polsl.pl//~sdeor/index.php?page=silesia">Silesia compression corpus</a>.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Method  </th><th class="markdownTableHeadRight">Compression ratio  </th><th class="markdownTableHeadRight">Compression speed  </th><th class="markdownTableHeadRight">Decompression speed  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><span class="tt">zstd -1</span>  </td><td class="markdownTableBodyRight"><span class="tt">2.878</span>  </td><td class="markdownTableBodyRight"><span class="tt">231.7 MB/s</span>  </td><td class="markdownTableBodyRight"><span class="tt">594.4 MB/s</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><span class="tt">zstd -1 --long</span>  </td><td class="markdownTableBodyRight"><span class="tt">2.929</span>  </td><td class="markdownTableBodyRight"><span class="tt">106.5 MB/s</span>  </td><td class="markdownTableBodyRight"><span class="tt">517.9 MB/s</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><span class="tt">zstd -5</span>  </td><td class="markdownTableBodyRight"><span class="tt">3.274</span>  </td><td class="markdownTableBodyRight"><span class="tt">77.1 MB/s</span>  </td><td class="markdownTableBodyRight"><span class="tt">464.2 MB/s</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><span class="tt">zstd -5 --long</span>  </td><td class="markdownTableBodyRight"><span class="tt">3.319</span>  </td><td class="markdownTableBodyRight"><span class="tt">51.7 MB/s</span>  </td><td class="markdownTableBodyRight"><span class="tt">371.9 MB/s</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><span class="tt">zstd -10</span>  </td><td class="markdownTableBodyRight"><span class="tt">3.523</span>  </td><td class="markdownTableBodyRight"><span class="tt">16.4 MB/s</span>  </td><td class="markdownTableBodyRight"><span class="tt">489.2 MB/s</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><span class="tt">zstd -10 --long</span>  </td><td class="markdownTableBodyRight"><span class="tt">3.566</span>  </td><td class="markdownTableBodyRight"><span class="tt">16.2 MB/s</span>  </td><td class="markdownTableBodyRight"><span class="tt">415.7 MB/s</span>  </td></tr>
</table>
<h2 class="doxsection"><a class="anchor" id="autotoc_md177"></a>
zstdgrep</h2>
<p><span class="tt">zstdgrep</span> is a utility which makes it possible to <span class="tt">grep</span> directly a <span class="tt">.zst</span> compressed file. It's used the same way as normal <span class="tt">grep</span>, for example : <span class="tt">zstdgrep pattern file.zst</span></p>
<p><span class="tt">zstdgrep</span> is <em>not</em> compatible with dictionary compression.</p>
<p>To search into a file compressed with a dictionary, it's necessary to decompress it using <span class="tt">zstd</span> or <span class="tt">zstdcat</span>, and then pipe the result to <span class="tt">grep</span>. For example : <span class="tt">zstdcat -D dictionary -qc -- file.zst | grep pattern</span> </p>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_c6310732a22f63c0c2fc5595561e68f1.html">Core</a></li><li class="navelem"><a href="dir_6c155c6ed2482937e47e44c0ec262982.html">bin</a></li><li class="navelem"><a href="dir_6469104bc24381b08969a83caf11cffb.html">Debug</a></li><li class="navelem"><a href="dir_6bbd6f73285aef4922f9164785e3a6d0.html">_deps</a></li><li class="navelem"><a href="dir_6db096f061106655854804296419a647.html">zstd-src</a></li><li class="navelem"><a href="dir_98fce4c481355d4b34d9ef18e195bd5e.html">programs</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
