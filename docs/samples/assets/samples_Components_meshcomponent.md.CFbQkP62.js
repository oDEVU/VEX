import{_ as i,c as e,o as a,ae as t}from"./chunks/framework.70bNUV4I.js";const c=JSON.parse('{"title":"Mesh Component","description":"","frontmatter":{},"headers":[],"relativePath":"samples/Components/meshcomponent.md","filePath":"samples/Components/meshcomponent.md"}'),n={name:"samples/Components/meshcomponent.md"};function h(l,s,p,o,r,k){return a(),e("div",null,[...s[0]||(s[0]=[t(`<h1 id="mesh-component" tabindex="-1">Mesh Component <a class="header-anchor" href="#mesh-component" aria-label="Permalink to &quot;Mesh Component&quot;">​</a></h1><p>The <code>vex::MeshComponent</code> is the primary data structure used to link 3D geometry (loaded from files) to the rendering backend. It stores the mesh data, material properties, and defining how the object should be drawn by the Vulkan renderer.</p><h2 id="structure" tabindex="-1">Structure <a class="header-anchor" href="#structure" aria-label="Permalink to &quot;Structure&quot;">​</a></h2><p>The component acts as a container for raw render data. When a mesh is loaded, the engine automatically calculates bounding volumes (center and radius) to assist with culling and physics.</p><p>Key properties include:</p><ul><li><strong>MeshData</strong>: Contains the raw vertices and indices loaded from the file.</li><li><strong>RenderType</strong>: Defines the pipeline state used to draw the mesh.</li><li><strong>Textures</strong>: Stores paths to textures associated with the submeshes.</li><li><strong>Color</strong>: A global color tint (<code>vex::rgba</code>) applied to the mesh.</li></ul><h2 id="render-types" tabindex="-1">Render Types <a class="header-anchor" href="#render-types" aria-label="Permalink to &quot;Render Types&quot;">​</a></h2><p>VEX supports different rendering modes to handle transparency and blending. You can switch these modes dynamically.</p><table tabindex="0"><thead><tr><th>Mode</th><th>Description</th></tr></thead><tbody><tr><td><code>vex::RenderType::OPAQUE</code></td><td>The default mode. Used for solid objects. Depth testing is enabled, and no alpha blending occurs. Very cheap performance wise.</td></tr><tr><td><code>vex::RenderType::TRANSPARENT</code></td><td>Used for objects requiring alpha blending, such as glass or shadows. The engine sorts these objects to ensure correct visual stacking. Very expensive performance wise since it sorts every triangle on the cpu.</td></tr><tr><td><code>vex::RenderType::MASKED</code></td><td>Used for &quot;cutout&quot; transparency (e.g., foliage or grates). Pixels below a certain alpha threshold are discarded entirely. Relatively cheap performance wise since it only discards pixels.</td></tr></tbody></table><h2 id="creating-meshes-in-code" tabindex="-1">Creating Meshes in Code <a class="header-anchor" href="#creating-meshes-in-code" aria-label="Permalink to &quot;Creating Meshes in Code&quot;">​</a></h2><p>You can create a <code>MeshComponent</code> manually, but VEX provides helper functions in <code>ModelCreator.hpp</code> to streamline loading assets from disk.</p><h3 id="using-helper-functions" tabindex="-1">Using Helper Functions <a class="header-anchor" href="#using-helper-functions" aria-label="Permalink to &quot;Using Helper Functions&quot;">​</a></h3><p>The most efficient way to get a mesh is using <code>createMeshFromPath</code>. This function interfaces with the <code>MeshManager</code> to load the file, calculate bounds, and cache the resource.</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. Load the mesh component from an asset path</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::MeshComponent humanMesh </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createMeshFromPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Assets/human.obj&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GetEngine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2. (Optional) Modify properties, such as the render type</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">humanMesh.renderType </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RenderType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::TRANSPARENT;</span></span></code></pre></div><h3 id="manual-configuration" tabindex="-1">Manual Configuration <a class="header-anchor" href="#manual-configuration" aria-label="Permalink to &quot;Manual Configuration&quot;">​</a></h3><p>You can also modify an existing model&#39;s mesh component at runtime, for example, to apply texture overrides or change transparency settings for specific effects like shadows.</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">viperShadow-&gt;GetComponent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::MeshComponent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().renderType </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RenderType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::TRANSPARENT;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">viperShadow-&gt;GetComponent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::MeshComponent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> glm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">viperShadow-&gt;GetComponent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::MeshComponent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().textureOverrides[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Assets/NewShadowTexture.png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><h2 id="loading-from-scene" tabindex="-1">Loading from scene <a class="header-anchor" href="#loading-from-scene" aria-label="Permalink to &quot;Loading from scene&quot;">​</a></h2><p>When loading a <code>.json</code> scene file, the Scene loader utilizes the <code>ComponentRegistry</code> to deserialize mesh data. The generic object loader reads the list of components defined in the <code>objects</code> array.</p><p>A typical JSON definition for an object with a MeshComponent looks like this:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ModelObject&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MyModel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;components&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MeshComponent&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;meshPath&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Assets/cube.obj&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;renderType&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;OPAQUE&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;TransformComponent&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // ... transform data, needed to render mesh</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>MeshComponent is still under active development. Please use with caution.</p></div><p>See also: <a href="https://odevu.github.io/VEX/structvex_1_1MeshComponent.html" target="_blank" rel="noreferrer">API Documentation</a></p>`,23)])])}const E=i(n,[["render",h]]);export{c as __pageData,E as default};
