import{_ as s,c as n,o as a,a as e}from"./app.305b70d8.js";const A=JSON.parse('{"title":"Environment & Retro Effects","description":"","frontmatter":{},"headers":[{"level":2,"title":"Accessing Settings","slug":"accessing-settings","link":"#accessing-settings","children":[]},{"level":2,"title":"Retro Aesthetics","slug":"retro-aesthetics","link":"#retro-aesthetics","children":[{"level":3,"title":"Example: \\"Ultra Retro\\" Mode","slug":"example-ultra-retro-mode","link":"#example-ultra-retro-mode","children":[]}]},{"level":2,"title":"Lighting & Shading","slug":"lighting-shading","link":"#lighting-shading","children":[{"level":3,"title":"Example: Day/Night Cycle","slug":"example-day-night-cycle","link":"#example-day-night-cycle","children":[]}]}],"relativePath":"samples/Core/enviroment.md"}'),t={name:"samples/Core/enviroment.md"},l=e(`<h1 id="environment-retro-effects" tabindex="-1">Environment &amp; Retro Effects <a class="header-anchor" href="#environment-retro-effects" aria-hidden="true">#</a></h1><p>VEX provides a global Environment system that controls the rendering pipeline&#39;s aesthetic. This system allows you to toggle specific &quot;retro&quot; features, such as vertex jitter, affine texture warping, and color quantization, to achieve an authentic PS1-era look.</p><p>These settings are stored in the vex::enviroment struct and are applied globally to the active scene.</p><h2 id="accessing-settings" tabindex="-1">Accessing Settings <a class="header-anchor" href="#accessing-settings" aria-hidden="true">#</a></h2><p>The environment settings are managed directly by the Engine class. You can retrieve the current configuration, modify specific flags, and push the changes back to the engine.</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">// 1. Get current settings</span></span>
<span class="line"><span style="color:#FFCB6B;">vex</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">enviroment env </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">GetEngine</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">getEnvironmentSettings</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// 2. Modify settings (e.g., disable texture warping)</span></span>
<span class="line"><span style="color:#A6ACCD;">env</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">affineWarping </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// 3. Apply changes</span></span>
<span class="line"><span style="color:#82AAFF;">GetEngine</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">setEnvironmentSettings</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">env</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><h2 id="retro-aesthetics" tabindex="-1">Retro Aesthetics <a class="header-anchor" href="#retro-aesthetics" aria-hidden="true">#</a></h2><p>These settings control the geometry and pixel-processing stages to mimic early 3D hardware limitations.</p><table><thead><tr><th>Property</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>passiveVertexJitter</td><td>bool</td><td>Enables vertex jitter even when the camera is static. Useful for a constantly &quot;&quot;alive&quot;&quot; unstable look.</td></tr><tr><td>vertexSnapping</td><td>bool</td><td>Snaps vertices to a lower-precision grid during movement. This causes the classic &quot;&quot;wobble&quot;&quot; effect seen in PS1 games.</td></tr><tr><td>affineWarping</td><td>bool</td><td>Disables perspective-correct texture mapping. Textures will appear to warp or distort at extreme angles.</td></tr><tr><td>screenQuantization</td><td>bool</td><td>Reduces color precision across the entire screen, creating banding artifacts typical of lower bit-depth displays.</td></tr><tr><td>screenDither</td><td>bool</td><td>Applies a dithering pattern to smooth out the banding caused by quantization.</td></tr><tr><td>ntfsArtifacts</td><td>bool</td><td>Enables CRT/NTSC-style signal artifacts (composite video noise/bleeding).</td></tr></tbody></table><h3 id="example-ultra-retro-mode" tabindex="-1">Example: &quot;Ultra Retro&quot; Mode <a class="header-anchor" href="#example-ultra-retro-mode" aria-hidden="true">#</a></h3><p>This example enables every retro feature to maximize the nostalgic aesthetic.</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Game</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">EnableRetroMode</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">vex</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">enviroment env </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">GetEngine</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">getEnvironmentSettings</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">    // Geometry Instability</span></span>
<span class="line"><span style="color:#A6ACCD;">    env</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vertexSnapping </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true;</span></span>
<span class="line"><span style="color:#A6ACCD;">    env</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">affineWarping </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#676E95;">    // Color/Video Artifacts</span></span>
<span class="line"><span style="color:#A6ACCD;">    env</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">screenQuantization </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true;</span></span>
<span class="line"><span style="color:#A6ACCD;">    env</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">screenDither </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true;</span></span>
<span class="line"><span style="color:#A6ACCD;">    env</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ntfsArtifacts </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true;</span><span style="color:#676E95;"> // Enables composite signal artifacts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">GetEngine</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">setEnvironmentSettings</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">env</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="lighting-shading" tabindex="-1">Lighting &amp; Shading <a class="header-anchor" href="#lighting-shading" aria-hidden="true">#</a></h2><p>In addition to retro artifacts, the environment struct controls the global lighting model.</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td>gourardShading</td><td>When true, lighting is calculated per-vertex (Gouraud). When false, it may default to flat shading depending on the shader.</td></tr><tr><td>ambientLight</td><td>The base color vec3 of the scene&#39;s shadows/darkest areas.</td></tr><tr><td>sunLight</td><td>The color vec3 of the main directional light.</td></tr><tr><td>sunDirection</td><td>A vec3 defining the direction of the &quot;&quot;sun&quot;&quot; light source.</td></tr><tr><td>clearColor</td><td>The background color used if no skybox is present.</td></tr></tbody></table><h3 id="example-day-night-cycle" tabindex="-1">Example: Day/Night Cycle <a class="header-anchor" href="#example-day-night-cycle" aria-hidden="true">#</a></h3><p>You can animate these values in your Update() loop to create dynamic environmental effects.</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MyGame</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">Update</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">float</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">deltaTime</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">vex</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">enviroment env </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">GetEngine</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">getEnvironmentSettings</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#676E95;">    // Simple Day/Night cycle based on time</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">float</span><span style="color:#A6ACCD;"> time </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">GetEngine</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">GetCurrentFrame</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.001f</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">float</span><span style="color:#A6ACCD;"> brightness </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">sin</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">time</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1.0f</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2.0f</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;"> // Oscillate 0.0 to 1.0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">    // Update ambient light strength</span></span>
<span class="line"><span style="color:#A6ACCD;">    env</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ambientLightStrength </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.1f</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">brightness </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.4f</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#676E95;">    // Change background from Black (Night) to Blue (Day)</span></span>
<span class="line"><span style="color:#A6ACCD;">    env</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">clearColor </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">glm</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">vec3</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0.0f</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.0f</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> brightness </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.5f</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">GetEngine</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">setEnvironmentSettings</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">env</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div>`,18),o=[l];function p(r,c,i,y,D,F){return a(),n("div",null,o)}const C=s(t,[["render",p]]);export{A as __pageData,C as default};
