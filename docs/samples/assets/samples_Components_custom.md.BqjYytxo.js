import{_ as i,c as a,o as n,ae as e}from"./chunks/framework.70bNUV4I.js";const d=JSON.parse('{"title":"Custom Components","description":"","frontmatter":{},"headers":[],"relativePath":"samples/Components/custom.md","filePath":"samples/Components/custom.md"}'),t={name:"samples/Components/custom.md"};function l(p,s,o,h,k,r){return n(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="custom-components" tabindex="-1">Custom Components <a class="header-anchor" href="#custom-components" aria-label="Permalink to &quot;Custom Components&quot;">​</a></h1><p>Similarly to GameObjects you can also define custom components, Thanks to using libraries that suport reflection it is very simple.</p><h2 id="defining" tabindex="-1">Defining <a class="header-anchor" href="#defining" aria-label="Permalink to &quot;Defining&quot;">​</a></h2><p>Custom components are just any structs. No need for inheritance, or special fields.</p><h2 id="loading-from-scene-files" tabindex="-1">Loading from scene files <a class="header-anchor" href="#loading-from-scene-files" aria-label="Permalink to &quot;Loading from scene files&quot;">​</a></h2><p>If we want to make them loadable from scene files, we need to register them similarly to GameObjects.</p><p>Defining and registering that function is simple. First we need to include ComponentFactory, it will allow us to register our load function.</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;components/GameComponents/ComponentFactory.hpp&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CustomComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value2;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::string value3;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">REGISTER_COMPONENT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(CustomComponent, value, value2, value3);</span></span></code></pre></div><p>But it gets harder if your components contain non-standard variables. Since both ImReflect and Nlohmann JSON don&#39;t support all types, you need to register them first</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>vex types like color and glm types like vectors are registered by the engine.</p></div><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Example imReflect setup, needs to be in DEBUG only as RELEASE builds dont include imgui.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#if</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DEBUG</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    #include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;ImReflect.hpp&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    IMGUI_REFLECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(custom_type, value1, value2);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // this will be done for your component tho.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#else</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">NLOHMANN_DEFINE_TYPE_NON_INTRUSIVE_WITH_DEFAULT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(custom_type, value1, value2);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    custom_type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">REGISTER_COMPONENT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MyComponent, value);</span></span></code></pre></div><p>See also: <a href="https://odevu.github.io/VEX/ComponentFactory_8hpp.html" target="_blank" rel="noreferrer">Code Documentation</a></p>`,12)])])}const m=i(t,[["render",l]]);export{d as __pageData,m as default};
