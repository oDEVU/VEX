<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VEX Engine: Core/bin/Debug/_deps/zstd-src/contrib/pzstd Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="RenderedLogoLowRes.png"/></td>
  <td id="projectalign">
   <div id="projectname">VEX Engine
   </div>
   <div id="projectbrief">Retro looking game engine made in vulkan mostly because i wanted to understand it better.</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('dir_6583a75025c57f6a8b53962eec80ff3e.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">pzstd Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-subdirs" class="groupheader"><a id="subdirs" name="subdirs"></a>
Directories</h2></td></tr>
<tr class="memitem:test" id="r_test"><td class="memItemLeft" align="right" valign="top"><span class="iconfolder"><div class="folder-icon"></div></span>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_c6e705c11b4b5c88d94c13590a2f9a54.html">test</a></td></tr>
<tr class="memitem:utils" id="r_utils"><td class="memItemLeft" align="right" valign="top"><span class="iconfolder"><div class="folder-icon"></div></span>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_0aff2d78016164892358f1813f17ba1b.html">utils</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-files" class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:ErrorHolder_2Eh" id="r_ErrorHolder_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="ErrorHolder_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>ErrorHolder.h</b></td></tr>
<tr class="memitem:Logging_2Eh" id="r_Logging_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="Logging_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>Logging.h</b></td></tr>
<tr class="memitem:main_2Ecpp" id="r_main_2Ecpp"><td class="memItemLeft" align="right" valign="top"><a href="Core_2bin_2Debug_2__deps_2zstd-src_2contrib_2pzstd_2main_8cpp_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>main.cpp</b></td></tr>
<tr class="memitem:Options_2Ecpp" id="r_Options_2Ecpp"><td class="memItemLeft" align="right" valign="top"><a href="Options_8cpp_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>Options.cpp</b></td></tr>
<tr class="memitem:Options_2Eh" id="r_Options_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="Options_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>Options.h</b></td></tr>
<tr class="memitem:Pzstd_2Ecpp" id="r_Pzstd_2Ecpp"><td class="memItemLeft" align="right" valign="top"><a href="Pzstd_8cpp_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>Pzstd.cpp</b></td></tr>
<tr class="memitem:Pzstd_2Eh" id="r_Pzstd_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="Pzstd_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>Pzstd.h</b></td></tr>
<tr class="memitem:SkippableFrame_2Ecpp" id="r_SkippableFrame_2Ecpp"><td class="memItemLeft" align="right" valign="top"><a href="SkippableFrame_8cpp_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>SkippableFrame.cpp</b></td></tr>
<tr class="memitem:SkippableFrame_2Eh" id="r_SkippableFrame_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="SkippableFrame_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><b>SkippableFrame.h</b></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<h1 class="doxsection"><a class="anchor" id="autotoc_md32"></a>
Parallel Zstandard (PZstandard)</h1>
<p>Parallel Zstandard is a Pigz-like tool for Zstandard. It provides Zstandard format compatible compression and decompression that is able to utilize multiple cores. It breaks the input up into equal sized chunks and compresses each chunk independently into a Zstandard frame. It then concatenates the frames together to produce the final compressed output. Pzstandard will write a 12 byte header for each frame that is a skippable frame in the Zstandard format, which tells PZstandard the size of the next compressed frame. PZstandard supports parallel decompression of files compressed with PZstandard. When decompressing files compressed with Zstandard, PZstandard does IO in one thread, and decompression in another.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md33"></a>
Usage</h1>
<p>PZstandard supports the same command line interface as Zstandard, but also provides the <span class="tt">-p</span> option to specify the number of threads. Dictionary mode is not currently supported.</p>
<p>Basic usage </p><pre class="fragment">pzstd input-file -o output-file -p num-threads -#          # Compression
pzstd -d input-file -o output-file -p num-threads          # Decompression
</pre><p>PZstandard also supports piping and fifo pipes </p><pre class="fragment">cat input-file | pzstd -p num-threads -# -c &gt; /dev/null
</pre><p>For more options </p><pre class="fragment">pzstd --help
</pre><p>PZstandard tries to pick a smart default number of threads if not specified (displayed in <span class="tt">pzstd --help</span>). If this number is not suitable, during compilation you can define <span class="tt">PZSTD_NUM_THREADS</span> to the number of threads you prefer.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md34"></a>
Benchmarks</h1>
<p>As a reference, PZstandard and Pigz were compared on an Intel Core i7 @ 3.1 GHz, each using 4 threads, with the <a href="https://sun.aei.polsl.pl//~sdeor/index.php?page=silesia">Silesia compression corpus</a>.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Compression Speed vs Ratio with 4 Threads  </th><th class="markdownTableHeadNone">Decompression Speed with 4 Threads  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><img src="images/Cspeed.png" alt="Compression Speed vs Ratio" title="Compression Speed vs Ratio" class="inline"/>  </td><td class="markdownTableBodyNone"><img src="images/Dspeed.png" alt="Decompression Speed" title="Decompression Speed" class="inline"/>  </td></tr>
</table>
<p>The test procedure was to run each of the following commands 2 times for each compression level, and take the minimum time. </p><pre class="fragment">time pzstd -# -p 4    -c silesia.tar     &gt; silesia.tar.zst
time pzstd -d -p 4    -c silesia.tar.zst &gt; /dev/null

time pigz  -# -p 4 -k -c silesia.tar     &gt; silesia.tar.gz
time pigz  -d -p 4 -k -c silesia.tar.gz  &gt; /dev/null
</pre><p>PZstandard was tested using compression levels 1-19, and Pigz was tested using compression levels 1-9. Pigz cannot do parallel decompression, it simply does each of reading, decompression, and writing on separate threads.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md35"></a>
Tests</h1>
<p>Tests require that you have <a href="https://github.com/google/googletest">gtest</a> installed. Set <span class="tt">GTEST_INC</span> and <span class="tt">GTEST_LIB</span> in <span class="tt">Makefile</span> to specify the location of the gtest headers and libraries. Alternatively, run <span class="tt">make googletest</span>, which will clone googletest and build it. Run <span class="tt">make tests &amp;&amp; make check</span> to run tests. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_c6310732a22f63c0c2fc5595561e68f1.html">Core</a></li><li class="navelem"><a href="dir_6c155c6ed2482937e47e44c0ec262982.html">bin</a></li><li class="navelem"><a href="dir_6469104bc24381b08969a83caf11cffb.html">Debug</a></li><li class="navelem"><a href="dir_6bbd6f73285aef4922f9164785e3a6d0.html">_deps</a></li><li class="navelem"><a href="dir_6db096f061106655854804296419a647.html">zstd-src</a></li><li class="navelem"><a href="dir_90e0c56229286cf8a89a928706bba673.html">contrib</a></li><li class="navelem"><a href="dir_6583a75025c57f6a8b53962eec80ff3e.html">pzstd</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
